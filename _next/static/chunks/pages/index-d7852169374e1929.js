(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(1852)}])},1852:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return C}});var i=o(5893),l=o(7294),r=o(649),s=o(3114),n=o(6518),a=o(7874);let d={ES:{title:"Ciclo de Cofres",COMMON:"Com\xfan",ESPECIAL:"Especial",EPIC:"\xc9pico",previous:"Anterior",current:"Actual",next:"Siguiente",chestPredict:"Predictor de Cofre",myRotation:"Mi Rotaci\xf3n",removeLastChest:"- Eliminar \xfaltimo cofre"},EN:{title:"Chest Cycle Viewer",COMMON:"Common",ESPECIAL:"Rare",EPIC:"Epic",previous:"Previous",current:"Current",next:"Next",chestPredict:"ChestPredict",myRotation:"My Rotation",removeLastChest:"- Remove last chest"}},c={fontFamily:"cursive",fontWeight:"bold",darkMode:{backgroundColor:"black",textColor1:"white",textColor2:"black"},whiteMode:{backgroundColor:"white",textColor1:"black",textColor2:"black"}},h={COMMON:{color:"#d3862e",count:36,image:"/static/COMUN.svg"},ESPECIAL:{color:"#fec800",count:18,image:"/static/ESPECIAL.svg"},EPIC:{color:"#8545c3",count:6,image:"/static/EPICO.svg"}},p=["COMMON","ESPECIAL","COMMON","COMMON","ESPECIAL","COMMON","COMMON","ESPECIAL","COMMON","ESPECIAL","ESPECIAL","COMMON","EPIC","COMMON","ESPECIAL","COMMON","COMMON","COMMON","ESPECIAL","COMMON","EPIC","COMMON","COMMON","ESPECIAL","COMMON","ESPECIAL","COMMON","COMMON","ESPECIAL","ESPECIAL","COMMON","COMMON","COMMON","EPIC","COMMON","EPIC","ESPECIAL","COMMON","COMMON","ESPECIAL","COMMON","COMMON","COMMON","ESPECIAL","COMMON","ESPECIAL","COMMON","COMMON","COMMON","ESPECIAL","COMMON","EPIC","COMMON","COMMON","COMMON","COMMON","ESPECIAL","COMMON","EPIC","ESPECIAL"],x=["#ff000096","#00ff0096","#0000ff96","#FFFF0096","#FF00FF96","#00FFFF96","#FFA50096","#80008096","#00800096","#FFC0CB96"],u=e=>{var t;let{type:o,size:l="2rem",onClick:s=null,isHighlighted:n=!1}=e;return(0,i.jsx)(r.E.div,{style:{width:l,height:l,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",cursor:s?"pointer":"default"},animate:{scale:n?[1,1.1,1]:1,"-webkit-filter":"drop-shadow(0px 0px 10pxrgba(255,255,255,0)) drop-shadow(0px 0px 5pxrgba(255,255,255,0)) drop-shadow(0px 0px 5pxrgba(255,255,255,0)) drop-shadow(0px 0px 20pxrgba(255,255,255,0))"},transition:{duration:.5,ease:"easeInOut"},onClick:s,children:(0,i.jsx)("img",{src:null===(t=h[o])||void 0===t?void 0:t.image,alt:"".concat(d.EN[o]," Chest"),layout:"fill",objectFit:"contain"})})},g=e=>{var t,o,l;let{prevChest:s,currentChest:n,nextChest:a,actualTheme:h,actualLang:p}=e;return(0,i.jsxs)(r.E.div,{className:"is-flex is-justify-content-space-around is-align-items-center",style:{width:"100%",color:c[h].textColor1},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,i.jsxs)("div",{className:"has-text-centered",children:[(0,i.jsx)(u,{type:s,size:"5rem"}),(0,i.jsx)("p",{className:"is-size-6 mt-2",style:{fontFamily:c.fontFamily,fontWeight:c.fontWeight},children:null===(t=d[p])||void 0===t?void 0:t.previous})]}),(0,i.jsxs)("div",{className:"has-text-centered",children:[(0,i.jsx)(u,{type:n,size:"7rem"}),(0,i.jsx)("p",{className:"is-size-6 mt-2",style:{fontFamily:c.fontFamily,fontWeight:c.fontWeight},children:null===(o=d[p])||void 0===o?void 0:o.current})]}),(0,i.jsxs)("div",{className:"has-text-centered",children:[(0,i.jsx)(u,{type:a,size:"5rem"}),(0,i.jsx)("p",{className:"is-size-6 mt-2",style:{fontFamily:c.fontFamily,fontWeight:c.fontWeight},children:null===(l=d[p])||void 0===l?void 0:l.next})]})]})};function C(){var e,t,o,n;let[a,C]=(0,l.useState)(p),[b,y]=(0,l.useState)([]),[M,O]=(0,l.useState)([]),[E,N]=(0,l.useState)(null),[v,j]=(0,l.useState)("darkMode"),[w,S]=(0,l.useState)("ES"),[I,k]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=localStorage.getItem("squadBusterRotation"),t=localStorage.getItem("chestCycleTheme"),o=localStorage.getItem("chestCycleLang");e&&y(JSON.parse(e)),t&&j(t),o&&S(o),k(!0)},[]),(0,l.useEffect)(()=>{localStorage.setItem("chestCycleTheme",v),localStorage.setItem("chestCycleLang",w)},[v,w]);let L=e=>{y(t=>{let o=[...t,e];return localStorage.setItem("squadBusterRotation",JSON.stringify(o)),o})},P=e=>a.filter(t=>t===e).length;(0,l.useEffect)(()=>{let e=(()=>{let e=[...a,...a],t=[];for(let o=0;o<a.length;o++)e.slice(o,o+b.length).every((e,t)=>e===b[t])&&t.push(Array.from({length:b.length},(e,t)=>(o+t)%a.length));return t})();if(O(e),1===e.length){let t=e[0][e[0].length-1];N({prevChest:a[t],currentChest:a[(t+1)%a.length],nextChest:a[(t+2)%a.length]})}else N(null)},[b,a]);let R=e=>{let t="40px",o=null===(i=h[a[e]])||void 0===i?void 0:i.color;var i,l={};if(1===M.length){let t=M[0];return e===t[t.length-1]?(x[0],{...l,"-webkit-filter":"drop-shadow(0px 0px 10px ".concat(o,") drop-shadow(0px 0px 5px ").concat(o,") drop-shadow(0px 0px 5px ").concat(o,") drop-shadow(0px 0px 20px ").concat(o,")")}):{...l}}let r=M.filter(t=>t.includes(e));return 0===r.length||r.forEach(o=>{let i=x[M.indexOf(o)%x.length],r=o.indexOf(e);l.backgroundColor=i;let s="2px solid ".concat(i);o.includes((e+10)%a.length)||(l.borderBottom=s),0!==r&&o.includes((e-1+a.length)%a.length)||(l.borderLeft=s),r!==o.length-1&&o.includes((e+1)%a.length)||(l.borderRight=s),o.includes((e-10+a.length)%a.length)||(l.borderTop=s),l.borderBottom==s&&l.borderLeft==s&&(l.borderBottomLeftRadius=t),l.borderTop==s&&l.borderLeft==s&&(l.borderTopLeftRadius=t),l.borderTop==s&&l.borderRight==s&&(l.borderTopRightRadius=t),l.borderRight==s&&l.borderBottom==s&&(l.borderBottomRightRadius=t),l.borderTopRightRadius==t&&l.borderBottomRightRadius==t&&(l.borderLeft="none"),l.borderTopLeftRadius==t&&l.borderBottomLeftRadius==t&&(l.borderRight="none"),l.borderTopRightRadius==t&&l.borderBottomRightRadius==t&&l.borderTopLeftRadius==t&&l.borderBottomLeftRadius==t&&(l.borderTop=s,l.borderLeft=s,l.borderRight=s,l.borderBottom=s)}),l};return(0,i.jsx)("div",{className:"is-flex is-flex-direction-column m-auto",style:{height:"100vh",width:"100vw",overflow:"hidden",padding:"10px",backgroundColor:c[v].backgroundColor,maxWidth:"400px",maxHeight:"800px"},children:I?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m,{actualTheme:v,setActualTheme:j}),(0,i.jsx)(f,{currentLang:w,setCurrentLang:S,actualTheme:v}),(0,i.jsxs)("div",{style:{height:"16%",overflow:"unset",marginTop:"20px"},children:[(0,i.jsx)("h1",{style:{color:c[v].textColor1,fontFamily:c.fontFamily},className:"title is-4 has-text-centered mb-2",children:null===(e=d[w])||void 0===e?void 0:e.title}),(0,i.jsx)("div",{className:"columns is-mobile is-centered mb-2",children:Object.entries(h).map(e=>{let[t,{label:o}]=e;return(0,i.jsxs)("div",{style:{color:c[v].textColor1,fontFamily:c.fontFamily,fontWeight:c.fontWeight},className:"column is-narrow has-text-centered",children:[(0,i.jsx)(u,{type:t}),(0,i.jsx)("p",{className:"is-size-7 has-text-weight-bold",children:o}),(0,i.jsxs)("p",{className:"is-size-7",children:[Math.round(P(t)/a.length*100),"%"]})]},t)})})]}),(0,i.jsx)("div",{style:{height:"32%",overflow:"auto"},children:(0,i.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(10, 1fr)",width:"100%",border:"2px solid ".concat(c[v].textColor1),borderRadius:"15px"},children:a.map((e,t)=>(0,i.jsx)("div",{style:{aspectRatio:"1",display:"flex",alignItems:"center",justifyContent:"center",padding:".2rem",...R(t)},children:(0,i.jsx)(u,{type:e,size:"100%",isHighlighted:M.some(e=>e.includes(t))})},t))})}),(0,i.jsxs)(r.E.div,{style:{height:E?"25%":"15%",overflow:"auto"},animate:{height:E?"25%":"15%"},transition:{duration:.5},children:[(0,i.jsx)(r.E.h2,{className:"title is-5 has-text-centered mb-2",animate:{opacity:1},transition:{duration:.5},style:{color:c[v].textColor1,fontFamily:c.fontFamily,fontWeight:c.fontWeight},children:E?null===(t=d[w])||void 0===t?void 0:t.chestPredict:null===(o=d[w])||void 0===o?void 0:o.myRotation}),(0,i.jsx)(s.M,{mode:"wait",children:E?(0,i.jsx)(g,{prevChest:E.prevChest,currentChest:E.currentChest,nextChest:E.nextChest,actualTheme:v,actualLang:w},"single-match"):(0,i.jsx)(r.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},style:{display:"grid",gridTemplateColumns:"repeat(10, 1fr)",gap:"0.25rem",width:"100%"},children:null==b?void 0:b.map((e,t)=>(0,i.jsx)(u,{type:e},t))},"multiple-matches")})]}),(0,i.jsx)(r.E.div,{style:{display:"flex",alignItems:"center",justifyContent:"center"},animate:{height:E?"20%":"30%"},transition:{duration:.5},children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("div",{className:"columns is-mobile is-centered",style:{margin:"0 .8rem"},children:Object.entries(h).map(e=>{let[t]=e;return(0,i.jsxs)("div",{style:{color:c[v].textColor1},className:"column is-narrow has-text-centered is-flex is-flex-direction-column is-justify-content-center is-align-items-center",children:[(0,i.jsx)(u,{type:t,size:"4rem",onClick:()=>L(t)}),(0,i.jsx)("button",{className:"button",style:{width:"100%",height:"25px"},onClick:()=>L(t),children:(0,i.jsx)("p",{className:"is-size-7",style:{fontFamily:c.fontFamily,fontWeight:c.fontWeight},children:d[w][t]})})]},t)})}),(0,i.jsx)("div",{className:"has-text-centered mt-2",children:(0,i.jsx)("button",{className:"button is-small",onClick:()=>{b.length>0&&y(e=>{let t=e.slice(0,-1);return localStorage.setItem("squadBusterRotation",JSON.stringify(t)),t})},disabled:0===b.length,style:{color:c[v].textColor2},children:null===(n=d[w])||void 0===n?void 0:n.removeLastChest})})]})})]}):(0,i.jsx)(i.Fragment,{})})}function m(e){let{actualTheme:t,setActualTheme:o}=e,[r,s]=(0,l.useState)("whiteMode"==t);(0,l.useEffect)(()=>{document.body.style.backgroundColor=c[t].backgroundColor,document.body.style.color=c[t].textColor1},[t]);let d={toggleContainer:{display:"inline-block",position:"absolute",top:10,left:10,transform:"scale(.7)","-webkit-filter":"drop-shadow(0px 0px 1px ".concat(c[t].textColor1,") drop-shadow(0px 0px 1px ").concat(c[t].textColor1,") drop-shadow(0px 0px 5px ").concat(c[t].textColor1,") drop-shadow(0px 0px 1px ").concat(c[t].textColor1,")")},checkbox:{opacity:0,position:"absolute"},label:{backgroundColor:"#111",width:"50px",height:"26px",borderRadius:"50px",position:"relative",padding:"5px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},ball:{backgroundColor:"#fff",width:"22px",height:"22px",position:"absolute",left:"2px",top:"2px",borderRadius:"50%",transition:"transform 0.2s linear",transform:"whiteMode"==t?"translateX(24px)":"translateX(0)"}};return(0,i.jsxs)("div",{style:d.toggleContainer,children:[(0,i.jsx)("input",{type:"checkbox",id:"darkModeToggle",style:d.checkbox,checked:"whiteMode"==t,onChange:()=>o("whiteMode"==t?"darkMode":"whiteMode"),"aria-label":"Toggle dark mode"}),(0,i.jsxs)("label",{htmlFor:"darkModeToggle",style:d.label,children:[(0,i.jsx)(n.Z,{style:{color:"#f1c40f",width:"16px",height:"16px"},"aria-hidden":"true"}),(0,i.jsx)(a.Z,{style:{color:"#f39c12",width:"16px",height:"16px"},"aria-hidden":"true"}),(0,i.jsx)("span",{style:d.ball})]})]})}let f=e=>{let{currentLang:t,setCurrentLang:o,actualTheme:r}=e;(0,l.useEffect)(()=>{document.documentElement.lang=t.toLowerCase()},[t]);let s={toggleContainer:{display:"inline-block",position:"absolute",top:10,right:10,transform:"scale(.7)","-webkit-filter":"drop-shadow(0px 0px 1px ".concat(c[r].textColor1,") drop-shadow(0px 0px 1px ").concat(c[r].textColor1,") drop-shadow(0px 0px 5px ").concat(c[r].textColor1,") drop-shadow(0px 0px 1px ").concat(c[r].textColor1,")")},checkbox:{opacity:0,position:"absolute",width:"50px"},label:{backgroundColor:"#111",width:"50px",height:"26px",borderRadius:"50px",position:"relative",padding:"5px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},ball:{backgroundColor:"#fff",width:"22px",height:"22px",position:"absolute",left:"2px",top:"2px",borderRadius:"50%",transition:"transform 0.2s linear",transform:"EN"===t?"translateX(24px)":"translateX(0)"}};return(0,i.jsxs)("div",{style:s.toggleContainer,children:[(0,i.jsx)("input",{type:"checkbox",id:"languageToggle",style:s.checkbox,checked:"ES"===t,onChange:()=>o("ES"===t?"EN":"ES"),"aria-label":"Toggle language"}),(0,i.jsxs)("label",{htmlFor:"languageToggle",style:s.label,children:[(0,i.jsx)("span",{style:{color:"#fff",fontSize:"12px",fontWeight:"bold"},children:"EN"}),(0,i.jsx)("span",{style:{color:"#fff",fontSize:"12px",fontWeight:"bold"},children:"ES"}),(0,i.jsx)("span",{style:s.ball})]})]})}}},function(e){e.O(0,[411,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);