(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(1852)}])},1852:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return m}});var o=i(5893),r=i(7294),s=i(649),l=i(3114),n=i(6518),a=i(7874);let d={fontFamily:"cursive",fontWeight:"bold",darkMode:{backgroundColor:"black",textColor1:"white",textColor2:"black"},whiteMode:{backgroundColor:"white",textColor1:"black",textColor2:"black"}},c={COMUN:{color:"#d3862e",label:"Common",count:36,image:"/static/COMUN.svg"},ESPECIAL:{color:"#fec800",label:"Rare",count:18,image:"/static/ESPECIAL.svg"},EPICO:{color:"#8545c3",label:"Epic",count:6,image:"/static/EPICO.svg"}},h=["COMUN","ESPECIAL","COMUN","COMUN","ESPECIAL","COMUN","COMUN","ESPECIAL","COMUN","ESPECIAL","ESPECIAL","COMUN","EPICO","COMUN","ESPECIAL","COMUN","COMUN","COMUN","ESPECIAL","COMUN","EPICO","COMUN","COMUN","ESPECIAL","COMUN","ESPECIAL","COMUN","COMUN","ESPECIAL","ESPECIAL","COMUN","COMUN","COMUN","EPICO","COMUN","EPICO","ESPECIAL","COMUN","COMUN","ESPECIAL","COMUN","COMUN","COMUN","ESPECIAL","COMUN","ESPECIAL","COMUN","COMUN","COMUN","ESPECIAL","COMUN","EPICO","COMUN","COMUN","COMUN","COMUN","ESPECIAL","COMUN","EPICO","ESPECIAL"],u=["#ff000096","#00ff0096","#0000ff96","#FFFF0096","#FF00FF96","#00FFFF96","#FFA50096","#80008096","#00800096","#FFC0CB96"],x=e=>{let{type:t,size:i="2rem",onClick:r=null,isHighlighted:l=!1}=e;return(0,o.jsx)(s.E.div,{style:{width:i,height:i,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",cursor:r?"pointer":"default"},animate:{scale:l?[1,1.1,1]:1,"-webkit-filter":"drop-shadow(0px 0px 10pxrgba(255,255,255,0)) drop-shadow(0px 0px 5pxrgba(255,255,255,0)) drop-shadow(0px 0px 5pxrgba(255,255,255,0)) drop-shadow(0px 0px 20pxrgba(255,255,255,0))"},transition:{duration:.5,ease:"easeInOut"},onClick:r,children:(0,o.jsx)("img",{src:c[t].image,alt:"".concat(c[t].label," Chest"),layout:"fill",objectFit:"contain"})})},p=e=>{let{prevChest:t,currentChest:i,nextChest:r,actualTheme:l}=e;return(0,o.jsxs)(s.E.div,{className:"is-flex is-justify-content-space-around is-align-items-center",style:{width:"100%",color:d[l].textColor1},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:[(0,o.jsxs)("div",{className:"has-text-centered",children:[(0,o.jsx)(x,{type:t,size:"5rem"}),(0,o.jsx)("p",{className:"is-size-6 mt-2",style:{fontFamily:d.fontFamily,fontWeight:d.fontWeight},children:"Previous"})]}),(0,o.jsxs)("div",{className:"has-text-centered",children:[(0,o.jsx)(x,{type:i,size:"7rem"}),(0,o.jsx)("p",{className:"is-size-6 mt-2",style:{fontFamily:d.fontFamily,fontWeight:d.fontWeight},children:"Current"})]}),(0,o.jsxs)("div",{className:"has-text-centered",children:[(0,o.jsx)(x,{type:r,size:"5rem"}),(0,o.jsx)("p",{className:"is-size-6 mt-2",style:{fontFamily:d.fontFamily,fontWeight:d.fontWeight},children:"Next"})]})]})};function m(){let[e,t]=(0,r.useState)(h),[i,n]=(0,r.useState)([]),[a,m]=(0,r.useState)([]),[C,f]=(0,r.useState)(null),[b,y]=(0,r.useState)("darkMode");(0,r.useEffect)(()=>{n(localStorage.hasOwnProperty("squadBusterRotation")?JSON.parse(localStorage.getItem("squadBusterRotation")):[])},[]);let N=e=>{n(t=>{let i=[...t,e];return localStorage.setItem("squadBusterRotation",JSON.stringify(i)),i})},E=t=>e.filter(e=>e===t).length;(0,r.useEffect)(()=>{let t=(()=>{let t=[...e,...e],o=[];for(let r=0;r<e.length;r++)t.slice(r,r+i.length).every((e,t)=>e===i[t])&&o.push(Array.from({length:i.length},(t,i)=>(r+i)%e.length));return o})();if(m(t),1===t.length){let i=t[0][t[0].length-1];f({prevChest:e[i],currentChest:e[(i+1)%e.length],nextChest:e[(i+2)%e.length]})}else f(null)},[i,e]);let O=t=>{let i="40px",o=c[e[t]].color;var r={};if(1===a.length){let e=a[0];return t===e[e.length-1]?(u[0],{...r,"-webkit-filter":"drop-shadow(0px 0px 10px ".concat(o,") drop-shadow(0px 0px 5px ").concat(o,") drop-shadow(0px 0px 5px ").concat(o,") drop-shadow(0px 0px 20px ").concat(o,")")}):{...r}}let s=a.filter(e=>e.includes(t));return 0===s.length||s.forEach(o=>{let s=u[a.indexOf(o)%u.length],l=o.indexOf(t);r.backgroundColor=s;let n="2px solid ".concat(s);o.includes((t+10)%e.length)||(r.borderBottom=n),0!==l&&o.includes((t-1+e.length)%e.length)||(r.borderLeft=n),l!==o.length-1&&o.includes((t+1)%e.length)||(r.borderRight=n),o.includes((t-10+e.length)%e.length)||(r.borderTop=n),r.borderBottom==n&&r.borderLeft==n&&(r.borderBottomLeftRadius=i),r.borderTop==n&&r.borderLeft==n&&(r.borderTopLeftRadius=i),r.borderTop==n&&r.borderRight==n&&(r.borderTopRightRadius=i),r.borderRight==n&&r.borderBottom==n&&(r.borderBottomRightRadius=i),r.borderTopRightRadius==i&&r.borderBottomRightRadius==i&&(r.borderLeft="none"),r.borderTopLeftRadius==i&&r.borderBottomLeftRadius==i&&(r.borderRight="none"),r.borderTopRightRadius==i&&r.borderBottomRightRadius==i&&r.borderTopLeftRadius==i&&r.borderBottomLeftRadius==i&&(r.borderTop=n,r.borderLeft=n,r.borderRight=n,r.borderBottom=n)}),r};return(0,o.jsxs)("div",{className:"is-flex is-flex-direction-column m-auto",style:{height:"100vh",width:"100vw",overflow:"hidden",padding:"10px",backgroundColor:d[b].backgroundColor,maxWidth:"400px",maxHeight:"800px"},children:[(0,o.jsx)(g,{actualTheme:b,setActualTheme:y}),(0,o.jsxs)("div",{style:{height:"16%",overflow:"unset"},children:[(0,o.jsx)("h1",{style:{color:d[b].textColor1,fontFamily:d.fontFamily},className:"title is-4 has-text-centered mb-2",children:"Chest Cycle Viewer"}),(0,o.jsx)("div",{className:"columns is-mobile is-centered mb-2",children:Object.entries(c).map(t=>{let[i,{label:r}]=t;return(0,o.jsxs)("div",{style:{color:d[b].textColor1,fontFamily:d.fontFamily,fontWeight:d.fontWeight},className:"column is-narrow has-text-centered",children:[(0,o.jsx)(x,{type:i}),(0,o.jsx)("p",{className:"is-size-7 has-text-weight-bold",children:r}),(0,o.jsxs)("p",{className:"is-size-7",children:[Math.round(E(i)/e.length*100),"%"]})]},i)})})]}),(0,o.jsx)("div",{style:{height:"32%",overflow:"auto"},children:(0,o.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(10, 1fr)",width:"100%",border:"2px solid ".concat(d[b].textColor1),borderRadius:"15px"},children:e.map((e,t)=>(0,o.jsx)("div",{style:{aspectRatio:"1",display:"flex",alignItems:"center",justifyContent:"center",padding:".2rem",...O(t)},children:(0,o.jsx)(x,{type:e,size:"100%",isHighlighted:a.some(e=>e.includes(t))})},t))})}),(0,o.jsxs)(s.E.div,{style:{height:C?"25%":"15%",overflow:"auto"},animate:{height:C?"25%":"15%"},transition:{duration:.5},children:[(0,o.jsx)(s.E.h2,{className:"title is-5 has-text-centered mb-2",animate:{opacity:1},transition:{duration:.5},style:{color:d[b].textColor1,fontFamily:d.fontFamily,fontWeight:d.fontWeight},children:C?"ChestPredict":"Mi Rotaci\xf3n"}),(0,o.jsx)(l.M,{mode:"wait",children:C?(0,o.jsx)(p,{prevChest:C.prevChest,currentChest:C.currentChest,nextChest:C.nextChest,actualTheme:b},"single-match"):(0,o.jsx)(s.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},style:{display:"grid",gridTemplateColumns:"repeat(10, 1fr)",gap:"0.25rem",width:"100%"},children:null==i?void 0:i.map((e,t)=>(0,o.jsx)(x,{type:e},t))},"multiple-matches")})]}),(0,o.jsx)(s.E.div,{style:{display:"flex",alignItems:"center",justifyContent:"center"},animate:{height:C?"20%":"30%"},transition:{duration:.5},children:(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)("div",{className:"columns is-mobile is-centered",style:{margin:"0 .8rem"},children:Object.entries(c).map(e=>{let[t,{label:i}]=e;return(0,o.jsxs)("div",{style:{color:d[b].textColor1},className:"column is-narrow has-text-centered is-flex is-flex-direction-column is-justify-content-center is-align-items-center",children:[(0,o.jsx)(x,{type:t,size:"4rem",onClick:()=>N(t)}),(0,o.jsx)("button",{className:"button",style:{width:"100%",height:"25px"},onClick:()=>N(t),children:(0,o.jsx)("p",{className:"is-size-7",style:{fontFamily:d.fontFamily,fontWeight:d.fontWeight},children:i})})]},t)})}),(0,o.jsx)("div",{className:"has-text-centered mt-2",children:(0,o.jsx)("button",{className:"button is-small",onClick:()=>{i.length>0&&n(e=>{let t=e.slice(0,-1);return localStorage.setItem("squadBusterRotation",JSON.stringify(t)),t})},disabled:0===i.length,style:{color:d[b].textColor2},children:"- Eliminar \xfaltimo cofre"})})]})})]})}function g(e){let{actualTheme:t,setActualTheme:i}=e,[s,l]=(0,r.useState)("whiteMode"==t);(0,r.useEffect)(()=>{document.body.style.backgroundColor=d[t].backgroundColor,document.body.style.color=d[t].textColor1},[t]);let c={toggleContainer:{display:"inline-block",position:"relative"},checkbox:{opacity:0,position:"absolute"},label:{backgroundColor:"#111",width:"50px",height:"26px",borderRadius:"50px",position:"relative",padding:"5px",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},ball:{backgroundColor:"#fff",width:"22px",height:"22px",position:"absolute",left:"2px",top:"2px",borderRadius:"50%",transition:"transform 0.2s linear",transform:"whiteMode"==t?"translateX(24px)":"translateX(0)"}};return(0,o.jsxs)("div",{style:c.toggleContainer,children:[(0,o.jsx)("input",{type:"checkbox",id:"darkModeToggle",style:c.checkbox,checked:"whiteMode"==t,onChange:()=>i("whiteMode"==t?"darkMode":"whiteMode"),"aria-label":"Toggle dark mode"}),(0,o.jsxs)("label",{htmlFor:"darkModeToggle",style:c.label,children:[(0,o.jsx)(n.Z,{style:{color:"#f1c40f",width:"16px",height:"16px"},"aria-hidden":"true"}),(0,o.jsx)(a.Z,{style:{color:"#f39c12",width:"16px",height:"16px"},"aria-hidden":"true"}),(0,o.jsx)("span",{style:c.ball})]})]})}}},function(e){e.O(0,[411,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);